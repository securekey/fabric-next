{
  "comments": [
    {
      "key": {
        "uuid": "3f24cab3_4916c1dc",
        "filename": "common/ledger/blkstorage/cdbblkstorage/cdb_blockstore.go",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2018-09-24T15:07:46Z",
      "side": 1,
      "message": "On peer restart, the idea is to load from checkpoint from DB.\n\nSince we are hitting a replicated DB, our checkpoint should probably include all of the block documents and revisions since the previous checkpoint.\n\nOn start, the peer should load this checkpoint and ensure all of the blocks/revisions exist before proceeding. \n\nTBD: After some timeout of the above logic, should we go to a previous checkpoint???",
      "range": {
        "startLine": 34,
        "startChar": 19,
        "endLine": 34,
        "endChar": 33
      },
      "revId": "58a53d8d6362295db996b7a6ab1b2549e80af643",
      "serverId": "391e9dfb-4ca7-4d02-9d3e-c661eec85686",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14764772_f8c31d23",
        "filename": "common/ledger/blkstorage/cdbblkstorage/cdb_blockstore.go",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1000037
      },
      "writtenOn": "2018-09-24T15:16:03Z",
      "side": 1,
      "message": "Will do that in the next commit",
      "parentUuid": "3f24cab3_4916c1dc",
      "range": {
        "startLine": 34,
        "startChar": 19,
        "endLine": 34,
        "endChar": 33
      },
      "revId": "58a53d8d6362295db996b7a6ab1b2549e80af643",
      "serverId": "391e9dfb-4ca7-4d02-9d3e-c661eec85686",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77e94f46_124df53f",
        "filename": "common/ledger/blkstorage/cdbblkstorage/cdb_blockstore.go",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2018-09-24T15:17:47Z",
      "side": 1,
      "message": "suggest that this be extracted in a separate utility func. I think it pollutes the purpose of blockToCouchDoc.",
      "range": {
        "startLine": 45,
        "startChar": 5,
        "endLine": 45,
        "endChar": 14
      },
      "revId": "58a53d8d6362295db996b7a6ab1b2549e80af643",
      "serverId": "391e9dfb-4ca7-4d02-9d3e-c661eec85686",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "02fc81b4_1109a14c",
        "filename": "common/ledger/blkstorage/cdbblkstorage/cdb_blockstore.go",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2018-09-24T15:19:01Z",
      "side": 1,
      "message": "i.e., call blockNumberToKey",
      "parentUuid": "77e94f46_124df53f",
      "range": {
        "startLine": 45,
        "startChar": 5,
        "endLine": 45,
        "endChar": 14
      },
      "revId": "58a53d8d6362295db996b7a6ab1b2549e80af643",
      "serverId": "391e9dfb-4ca7-4d02-9d3e-c661eec85686",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "580c73bb_49f8f91d",
        "filename": "common/ledger/blkstorage/cdbblkstorage/cdb_blockstore.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2018-09-24T15:21:08Z",
      "side": 1,
      "message": "Maybe should check block number in latestBlock to ensure that we are setting the block height correctly?",
      "range": {
        "startLine": 69,
        "startChar": 21,
        "endLine": 69,
        "endChar": 46
      },
      "revId": "58a53d8d6362295db996b7a6ab1b2549e80af643",
      "serverId": "391e9dfb-4ca7-4d02-9d3e-c661eec85686",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b086d554_b2cef729",
        "filename": "common/ledger/blkstorage/cdbblkstorage/cdb_blockstore.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1000037
      },
      "writtenOn": "2018-09-24T15:27:29Z",
      "side": 1,
      "message": "I\u0027m not sure how to do that. Should i check the \tlatestBlock.Header.Number",
      "parentUuid": "580c73bb_49f8f91d",
      "range": {
        "startLine": 69,
        "startChar": 21,
        "endLine": 69,
        "endChar": 46
      },
      "revId": "58a53d8d6362295db996b7a6ab1b2549e80af643",
      "serverId": "391e9dfb-4ca7-4d02-9d3e-c661eec85686",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7a47d1d_c7483cfd",
        "filename": "common/ledger/blkstorage/cdbblkstorage/cdb_blockstore.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2018-09-24T15:57:38Z",
      "side": 1,
      "message": "If it\u0027s a copy of the code they had then I guess we can leave it - maybe add a warning if latestBlock.Header.Number !\u003d currentBCInfo.Height.",
      "parentUuid": "b086d554_b2cef729",
      "range": {
        "startLine": 69,
        "startChar": 21,
        "endLine": 69,
        "endChar": 46
      },
      "revId": "58a53d8d6362295db996b7a6ab1b2549e80af643",
      "serverId": "391e9dfb-4ca7-4d02-9d3e-c661eec85686",
      "unresolved": false
    }
  ]
}